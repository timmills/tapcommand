# ================================================================
# SmartVenue ESPHome Template (D1 Mini)
# Generated via YAML Builder
# ================================================================
substitutions:
  device_name: smartvenue-ir
  friendly_name: SmartVenue IR Blaster
  wifi_ssid: "TV"
  wifi_password: "changeme"
  wifi_hidden: true
  api_key: "uuPgF8JOAV/ZhFbDV4iS4Kwr1MV5H97p6Nk+HnpE0+g="
  ota_password: ""

esphome:
  name: "${device_name}"
  friendly_name: "${friendly_name}"
  comment: "Generated by SmartVenue YAML Builder"
  project:
    name: "smartvenue.universal_ir"
    version: "1.0.0"
  includes:
    - ArduinoJson.h

esp8266:
  board: d1_mini
  restore_from_flash: true

logger:

api:
  encryption:
    key: "${api_key}"
  services:
    - service: report_capabilities
      then:
        - script.execute: publish_capabilities

wifi:
  networks:
    - ssid: "${wifi_ssid}"
      password: "${wifi_password}"
      hidden: ${wifi_hidden}

ota:
  - platform: esphome
    password: "${ota_password}"

captive_portal:

status_led:
  pin:
    number: GPIO2
    inverted: true

{{TRANSMITTER_BLOCK}}

script:
  - id: publish_capabilities
    mode: queued
    then:
      - lambda: |-
{{CAPABILITY_PAYLOAD_LINES}}
{{CUSTOM_SCRIPT_BLOCK}}

text_sensor:
  - platform: template
    id: ir_capabilities_payload
    name: "IR Capabilities Payload"
    entity_category: diagnostic
    icon: "mdi:remote"
    update_interval: never

# ================================================================
# Port Assignments (auto-generated)
# ================================================================
{{PORT_BLOCK}}

# ================================================================
# Selected Devices (auto-generated)
# ================================================================
{{DEVICE_BLOCK}}

# ================================================================
# Buttons / Actions (auto-generated)
# ================================================================
{{BUTTON_SECTION}}

# ================================================================
# Additional Notes
# ================================================================
# - Use the YAML builder to map IR libraries to ports.
# - Extend this template with scripts, buttons, and automations as needed.
